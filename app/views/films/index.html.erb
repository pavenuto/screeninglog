<% title "Films - Screening Log" %>

<div class="films__index">

  <% if params[:search]  %>
  <h1>Search Results for &#8220;<%= params[:search] %>&#8221;</h1>
  <% else %>
  <h1>Films <small><%= @films.count %></small></h1>
  <% end %>

  <%= link_to 'New Film', new_film_path, :class => "button" %>

  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Year</th>
        <th>Director</th>
        <th></th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <% @films.each do |film| %>
      <tr>
        <td><%= link_to film.title, film %></td>
        <td><%= link_to film.year, "films/year/#{film.year}" %></td>
        <td><%= display_directors(film) %></td>
        <td><%= link_to edit_film_path(film), :class => 'action-link' do %><%= fa_icon "pencil" %><% end %></td>
        <td><%= link_to film, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'action-link' do %><%= fa_icon "times" %><% end %></td>
      </tr>
      <% end %>
    </tbody>
  </table>

  <%= will_paginate @films %>

</div>
